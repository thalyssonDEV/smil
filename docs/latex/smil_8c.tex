\doxysection{smil.\+c File Reference}
\hypertarget{smil_8c}{}\label{smil_8c}\index{smil.c@{smil.c}}
{\ttfamily \#include "{}pico/stdlib.\+h"{}}\newline
{\ttfamily \#include "{}hardware/adc.\+h"{}}\newline
{\ttfamily \#include "{}ws2812b\+\_\+animation.\+h"{}}\newline
{\ttfamily \#include "{}ssd1306.\+h"{}}\newline
{\ttfamily \#include "{}hardware/i2c.\+h"{}}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct_sistema_lixeira}{Sistema\+Lixeira}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{smil_8c_a8eab89acd7dcb0e77e7b00d1749022a6}{TRIG\+\_\+\+PIN}}~17
\item 
\#define \mbox{\hyperlink{smil_8c_acea96cea4a13b6cb38e57a86788adf90}{ECHO\+\_\+\+PIN}}~16
\item 
\#define \mbox{\hyperlink{smil_8c_ab61d0981ed42df9e18211b273d22cfcd}{BUZZER\+\_\+\+PIN}}~10
\item 
\#define \mbox{\hyperlink{smil_8c_abc2ad14f0789907024ac765711ffd3da}{BUTTON\+\_\+\+PIN}}~5
\item 
\#define \mbox{\hyperlink{smil_8c_a54c0def53abd82a8d54cef55213ec047}{BUTTON\+\_\+\+NIGHT\+\_\+\+MODE}}~6
\item 
\#define \mbox{\hyperlink{smil_8c_a3760309029b43b6a0f3a03f4962273ac}{JOYSTICK\+\_\+\+VRX}}~27
\item 
\#define \mbox{\hyperlink{smil_8c_a4419e018d49e33cf84baae67b26e800c}{JOYSTICK\+\_\+\+VRY}}~26
\item 
\#define \mbox{\hyperlink{smil_8c_a2460d59e31b290712acbea394c75975d}{JOYSTICK\+\_\+\+SW}}~22
\item 
\#define \mbox{\hyperlink{smil_8c_a2cd109632a6dcccaa80b43561b1ab700}{SCREEN\+\_\+\+WIDTH}}~128
\item 
\#define \mbox{\hyperlink{smil_8c_a6974d08a74da681b3957b2fead2608b8}{SCREEN\+\_\+\+HEIGHT}}~64
\item 
\#define \mbox{\hyperlink{smil_8c_a4dc358585abdaa9531e340bab60ae0b5}{SCREEN\+\_\+\+ADDRESS}}~0x3C
\item 
\#define \mbox{\hyperlink{smil_8c_a18aefd12ad84d4c33dc97923cb821e47}{I2\+C\+\_\+\+SDA}}~14
\item 
\#define \mbox{\hyperlink{smil_8c_a212ca328a6409c98f8c3dfbbe1ba561d}{I2\+C\+\_\+\+SCL}}~15
\item 
\#define \mbox{\hyperlink{smil_8c_a7495a15f42eb92ab49f49677d59a7385}{ALTURA\+\_\+\+MAX\+\_\+\+LIXEIRA}}~120
\item 
\#define \mbox{\hyperlink{smil_8c_a35038e01aef5f5332209dee522011203}{JOYSTICK\+\_\+\+VRY\+\_\+\+MAX}}~3500
\item 
\#define \mbox{\hyperlink{smil_8c_a49158654eacabaa97dbceddcde852c95}{JOYSTICK\+\_\+\+VRY\+\_\+\+MIN}}~500
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{smil_8c_a412154784f76e55a95064796059c1564}{escrever\+Trig\+Pin}} (bool estado)
\begin{DoxyCompactList}\small\item\em Função para controlar o pino TRIG do sensor ultrassônico. \end{DoxyCompactList}\item 
float \mbox{\hyperlink{smil_8c_a929aef15a25aee91e07551a098efaea6}{obter\+Distancia\+CM}} ()
\begin{DoxyCompactList}\small\item\em Função para obter a distância medida pelo sensor ultrassônico. \end{DoxyCompactList}\item 
float \mbox{\hyperlink{smil_8c_ac754fee47d028a97c4c9a24b1170e35d}{obter\+Distancia\+Media}} (int qtd\+Leituras)
\begin{DoxyCompactList}\small\item\em Função para calcular a média das distâncias coletadas em várias leituras. \end{DoxyCompactList}\item 
float \mbox{\hyperlink{smil_8c_ad365d7705235de34d06d0b8dc18c3e24}{calcular\+Ocupacao}} (float distancia)
\begin{DoxyCompactList}\small\item\em Função para calcular o percentual de ocupação da lixeira com base na distância. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{smil_8c_a888e29fc251d16590c4e09920627cffa}{emitir\+Alerta\+Sonoro}} ()
\begin{DoxyCompactList}\small\item\em Função para emitir um alerta sonoro caso o modo noturno não esteja ativado. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{smil_8c_ae849a6ca2aaf5c293ca80fabe2ae5fd7}{centralizar\+Texto}} (const char \texorpdfstring{$\ast$}{*}texto, int linha)
\begin{DoxyCompactList}\small\item\em Função para centralizar o texto na tela do display SSD1306. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{smil_8c_af9b87de59442cdb13d7137ea72dd5f82}{atualizar\+Display\+Status}} ()
\begin{DoxyCompactList}\small\item\em Função para atualizar o display com as informações do sistema. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{smil_8c_a58418a29fdea3e8cf5d6e6eb5aab554b}{ajustar\+Brilho}} (int ajuste)
\begin{DoxyCompactList}\small\item\em Função para ajustar o brilho global dos LEDs. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{smil_8c_a8844ef69c9a4521338bdd5b14d72816c}{verificar\+Joystick}} ()
\begin{DoxyCompactList}\small\item\em Função para verificar as leituras do joystick e ajustar o brilho. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{smil_8c_a00d824d1f91020cc9a2e0deee60611fb}{ativar\+Modo\+Noturno}} ()
\begin{DoxyCompactList}\small\item\em Função para ativar ou desativar o modo noturno. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{smil_8c_a179a6625aa57d2cfce3a39325b32fa85}{inicializar\+Pinos}} ()
\begin{DoxyCompactList}\small\item\em Função para inicializar os pinos de hardware no início da execução do código. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{smil_8c_ae66f6b31b5ad750f1fe042a706a4e3d4}{main}} ()
\begin{DoxyCompactList}\small\item\em Função principal do sistema. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
ssd1306\+\_\+t \mbox{\hyperlink{smil_8c_ad3df5bad4be6ff9b61269e2e0e0595e4}{display}}
\item 
\mbox{\hyperlink{struct_sistema_lixeira}{Sistema\+Lixeira}} \mbox{\hyperlink{smil_8c_a174948f766e6e47a6bbde4be16544b4b}{sistema}}
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\Hypertarget{smil_8c_a7495a15f42eb92ab49f49677d59a7385}\index{smil.c@{smil.c}!ALTURA\_MAX\_LIXEIRA@{ALTURA\_MAX\_LIXEIRA}}
\index{ALTURA\_MAX\_LIXEIRA@{ALTURA\_MAX\_LIXEIRA}!smil.c@{smil.c}}
\doxysubsubsection{\texorpdfstring{ALTURA\_MAX\_LIXEIRA}{ALTURA\_MAX\_LIXEIRA}}
{\footnotesize\ttfamily \label{smil_8c_a7495a15f42eb92ab49f49677d59a7385} 
\#define ALTURA\+\_\+\+MAX\+\_\+\+LIXEIRA~120}

Altura máxima da lixeira em centímetros \Hypertarget{smil_8c_a54c0def53abd82a8d54cef55213ec047}\index{smil.c@{smil.c}!BUTTON\_NIGHT\_MODE@{BUTTON\_NIGHT\_MODE}}
\index{BUTTON\_NIGHT\_MODE@{BUTTON\_NIGHT\_MODE}!smil.c@{smil.c}}
\doxysubsubsection{\texorpdfstring{BUTTON\_NIGHT\_MODE}{BUTTON\_NIGHT\_MODE}}
{\footnotesize\ttfamily \label{smil_8c_a54c0def53abd82a8d54cef55213ec047} 
\#define BUTTON\+\_\+\+NIGHT\+\_\+\+MODE~6}

Pino do botão de controle do modo noturno \Hypertarget{smil_8c_abc2ad14f0789907024ac765711ffd3da}\index{smil.c@{smil.c}!BUTTON\_PIN@{BUTTON\_PIN}}
\index{BUTTON\_PIN@{BUTTON\_PIN}!smil.c@{smil.c}}
\doxysubsubsection{\texorpdfstring{BUTTON\_PIN}{BUTTON\_PIN}}
{\footnotesize\ttfamily \label{smil_8c_abc2ad14f0789907024ac765711ffd3da} 
\#define BUTTON\+\_\+\+PIN~5}

Pino do botão de controle de funcionamento \Hypertarget{smil_8c_ab61d0981ed42df9e18211b273d22cfcd}\index{smil.c@{smil.c}!BUZZER\_PIN@{BUZZER\_PIN}}
\index{BUZZER\_PIN@{BUZZER\_PIN}!smil.c@{smil.c}}
\doxysubsubsection{\texorpdfstring{BUZZER\_PIN}{BUZZER\_PIN}}
{\footnotesize\ttfamily \label{smil_8c_ab61d0981ed42df9e18211b273d22cfcd} 
\#define BUZZER\+\_\+\+PIN~10}

Pino de controle do buzzer \Hypertarget{smil_8c_acea96cea4a13b6cb38e57a86788adf90}\index{smil.c@{smil.c}!ECHO\_PIN@{ECHO\_PIN}}
\index{ECHO\_PIN@{ECHO\_PIN}!smil.c@{smil.c}}
\doxysubsubsection{\texorpdfstring{ECHO\_PIN}{ECHO\_PIN}}
{\footnotesize\ttfamily \label{smil_8c_acea96cea4a13b6cb38e57a86788adf90} 
\#define ECHO\+\_\+\+PIN~16}

Pino de eco do sensor ultrassônico \Hypertarget{smil_8c_a212ca328a6409c98f8c3dfbbe1ba561d}\index{smil.c@{smil.c}!I2C\_SCL@{I2C\_SCL}}
\index{I2C\_SCL@{I2C\_SCL}!smil.c@{smil.c}}
\doxysubsubsection{\texorpdfstring{I2C\_SCL}{I2C\_SCL}}
{\footnotesize\ttfamily \label{smil_8c_a212ca328a6409c98f8c3dfbbe1ba561d} 
\#define I2\+C\+\_\+\+SCL~15}

Pino SCL para comunicação I2C \Hypertarget{smil_8c_a18aefd12ad84d4c33dc97923cb821e47}\index{smil.c@{smil.c}!I2C\_SDA@{I2C\_SDA}}
\index{I2C\_SDA@{I2C\_SDA}!smil.c@{smil.c}}
\doxysubsubsection{\texorpdfstring{I2C\_SDA}{I2C\_SDA}}
{\footnotesize\ttfamily \label{smil_8c_a18aefd12ad84d4c33dc97923cb821e47} 
\#define I2\+C\+\_\+\+SDA~14}

Pino SDA para comunicação I2C \Hypertarget{smil_8c_a2460d59e31b290712acbea394c75975d}\index{smil.c@{smil.c}!JOYSTICK\_SW@{JOYSTICK\_SW}}
\index{JOYSTICK\_SW@{JOYSTICK\_SW}!smil.c@{smil.c}}
\doxysubsubsection{\texorpdfstring{JOYSTICK\_SW}{JOYSTICK\_SW}}
{\footnotesize\ttfamily \label{smil_8c_a2460d59e31b290712acbea394c75975d} 
\#define JOYSTICK\+\_\+\+SW~22}

Pino do botão do joystick \Hypertarget{smil_8c_a3760309029b43b6a0f3a03f4962273ac}\index{smil.c@{smil.c}!JOYSTICK\_VRX@{JOYSTICK\_VRX}}
\index{JOYSTICK\_VRX@{JOYSTICK\_VRX}!smil.c@{smil.c}}
\doxysubsubsection{\texorpdfstring{JOYSTICK\_VRX}{JOYSTICK\_VRX}}
{\footnotesize\ttfamily \label{smil_8c_a3760309029b43b6a0f3a03f4962273ac} 
\#define JOYSTICK\+\_\+\+VRX~27}

Pino X do joystick \Hypertarget{smil_8c_a4419e018d49e33cf84baae67b26e800c}\index{smil.c@{smil.c}!JOYSTICK\_VRY@{JOYSTICK\_VRY}}
\index{JOYSTICK\_VRY@{JOYSTICK\_VRY}!smil.c@{smil.c}}
\doxysubsubsection{\texorpdfstring{JOYSTICK\_VRY}{JOYSTICK\_VRY}}
{\footnotesize\ttfamily \label{smil_8c_a4419e018d49e33cf84baae67b26e800c} 
\#define JOYSTICK\+\_\+\+VRY~26}

Pino Y do joystick \Hypertarget{smil_8c_a35038e01aef5f5332209dee522011203}\index{smil.c@{smil.c}!JOYSTICK\_VRY\_MAX@{JOYSTICK\_VRY\_MAX}}
\index{JOYSTICK\_VRY\_MAX@{JOYSTICK\_VRY\_MAX}!smil.c@{smil.c}}
\doxysubsubsection{\texorpdfstring{JOYSTICK\_VRY\_MAX}{JOYSTICK\_VRY\_MAX}}
{\footnotesize\ttfamily \label{smil_8c_a35038e01aef5f5332209dee522011203} 
\#define JOYSTICK\+\_\+\+VRY\+\_\+\+MAX~3500}

Valor máximo para o eixo Y do joystick \Hypertarget{smil_8c_a49158654eacabaa97dbceddcde852c95}\index{smil.c@{smil.c}!JOYSTICK\_VRY\_MIN@{JOYSTICK\_VRY\_MIN}}
\index{JOYSTICK\_VRY\_MIN@{JOYSTICK\_VRY\_MIN}!smil.c@{smil.c}}
\doxysubsubsection{\texorpdfstring{JOYSTICK\_VRY\_MIN}{JOYSTICK\_VRY\_MIN}}
{\footnotesize\ttfamily \label{smil_8c_a49158654eacabaa97dbceddcde852c95} 
\#define JOYSTICK\+\_\+\+VRY\+\_\+\+MIN~500}

Valor mínimo para o eixo Y do joystick \Hypertarget{smil_8c_a4dc358585abdaa9531e340bab60ae0b5}\index{smil.c@{smil.c}!SCREEN\_ADDRESS@{SCREEN\_ADDRESS}}
\index{SCREEN\_ADDRESS@{SCREEN\_ADDRESS}!smil.c@{smil.c}}
\doxysubsubsection{\texorpdfstring{SCREEN\_ADDRESS}{SCREEN\_ADDRESS}}
{\footnotesize\ttfamily \label{smil_8c_a4dc358585abdaa9531e340bab60ae0b5} 
\#define SCREEN\+\_\+\+ADDRESS~0x3C}

Endereço I2C do display SSD1306 \Hypertarget{smil_8c_a6974d08a74da681b3957b2fead2608b8}\index{smil.c@{smil.c}!SCREEN\_HEIGHT@{SCREEN\_HEIGHT}}
\index{SCREEN\_HEIGHT@{SCREEN\_HEIGHT}!smil.c@{smil.c}}
\doxysubsubsection{\texorpdfstring{SCREEN\_HEIGHT}{SCREEN\_HEIGHT}}
{\footnotesize\ttfamily \label{smil_8c_a6974d08a74da681b3957b2fead2608b8} 
\#define SCREEN\+\_\+\+HEIGHT~64}

Altura da tela do display \Hypertarget{smil_8c_a2cd109632a6dcccaa80b43561b1ab700}\index{smil.c@{smil.c}!SCREEN\_WIDTH@{SCREEN\_WIDTH}}
\index{SCREEN\_WIDTH@{SCREEN\_WIDTH}!smil.c@{smil.c}}
\doxysubsubsection{\texorpdfstring{SCREEN\_WIDTH}{SCREEN\_WIDTH}}
{\footnotesize\ttfamily \label{smil_8c_a2cd109632a6dcccaa80b43561b1ab700} 
\#define SCREEN\+\_\+\+WIDTH~128}

Largura da tela do display \Hypertarget{smil_8c_a8eab89acd7dcb0e77e7b00d1749022a6}\index{smil.c@{smil.c}!TRIG\_PIN@{TRIG\_PIN}}
\index{TRIG\_PIN@{TRIG\_PIN}!smil.c@{smil.c}}
\doxysubsubsection{\texorpdfstring{TRIG\_PIN}{TRIG\_PIN}}
{\footnotesize\ttfamily \label{smil_8c_a8eab89acd7dcb0e77e7b00d1749022a6} 
\#define TRIG\+\_\+\+PIN~17}

Pino de trigger do sensor ultrassônico 

\doxysubsection{Function Documentation}
\Hypertarget{smil_8c_a58418a29fdea3e8cf5d6e6eb5aab554b}\index{smil.c@{smil.c}!ajustarBrilho@{ajustarBrilho}}
\index{ajustarBrilho@{ajustarBrilho}!smil.c@{smil.c}}
\doxysubsubsection{\texorpdfstring{ajustarBrilho()}{ajustarBrilho()}}
{\footnotesize\ttfamily \label{smil_8c_a58418a29fdea3e8cf5d6e6eb5aab554b} 
void ajustar\+Brilho (\begin{DoxyParamCaption}\item[{int}]{ajuste}{}\end{DoxyParamCaption})}



Função para ajustar o brilho global dos LEDs. 

A função altera o brilho dos LEDs de acordo com o valor fornecido, garantindo que o brilho esteja dentro dos limites definidos (0 a 7).


\begin{DoxyParams}{Parameters}
{\em ajuste} & O valor a ser somado ou subtraído ao brilho atual. \\
\hline
\end{DoxyParams}
\Hypertarget{smil_8c_a00d824d1f91020cc9a2e0deee60611fb}\index{smil.c@{smil.c}!ativarModoNoturno@{ativarModoNoturno}}
\index{ativarModoNoturno@{ativarModoNoturno}!smil.c@{smil.c}}
\doxysubsubsection{\texorpdfstring{ativarModoNoturno()}{ativarModoNoturno()}}
{\footnotesize\ttfamily \label{smil_8c_a00d824d1f91020cc9a2e0deee60611fb} 
void ativar\+Modo\+Noturno (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Função para ativar ou desativar o modo noturno. 

A função alterna o estado do modo noturno, ativando ou desativando o comportamento que pode alterar a luminosidade do sistema ou de outros componentes. \Hypertarget{smil_8c_af9b87de59442cdb13d7137ea72dd5f82}\index{smil.c@{smil.c}!atualizarDisplayStatus@{atualizarDisplayStatus}}
\index{atualizarDisplayStatus@{atualizarDisplayStatus}!smil.c@{smil.c}}
\doxysubsubsection{\texorpdfstring{atualizarDisplayStatus()}{atualizarDisplayStatus()}}
{\footnotesize\ttfamily \label{smil_8c_af9b87de59442cdb13d7137ea72dd5f82} 
void atualizar\+Display\+Status (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Função para atualizar o display com as informações do sistema. 

A função limpa o display e exibe informações sobre o funcionamento do sensor, a ocupação da lixeira, a distância medida e o status do modo noturno. \texorpdfstring{$<$}{<} Limpa o display

\texorpdfstring{$<$}{<} Se o sistema está funcionando

\texorpdfstring{$<$}{<} Exibe que o sensor está ativado

\texorpdfstring{$<$}{<} Exibe a ocupação da lixeira

\texorpdfstring{$<$}{<} Exibe a distância medida pelo sensor

\texorpdfstring{$<$}{<} Exibe o status do modo noturno

\texorpdfstring{$<$}{<} Exibe que o sensor está desativado

\texorpdfstring{$<$}{<} Atualiza o display com as informações\Hypertarget{smil_8c_ad365d7705235de34d06d0b8dc18c3e24}\index{smil.c@{smil.c}!calcularOcupacao@{calcularOcupacao}}
\index{calcularOcupacao@{calcularOcupacao}!smil.c@{smil.c}}
\doxysubsubsection{\texorpdfstring{calcularOcupacao()}{calcularOcupacao()}}
{\footnotesize\ttfamily \label{smil_8c_ad365d7705235de34d06d0b8dc18c3e24} 
float calcular\+Ocupacao (\begin{DoxyParamCaption}\item[{float}]{distancia}{}\end{DoxyParamCaption})}



Função para calcular o percentual de ocupação da lixeira com base na distância. 

A ocupação é calculada com base na distância medida pelo sensor, levando em conta a altura máxima da lixeira.


\begin{DoxyParams}{Parameters}
{\em distancia} & Distância medida pelo sensor ultrassônico. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Percentual de ocupação da lixeira. 
\end{DoxyReturn}
\texorpdfstring{$<$}{<} Se a distância for maior que a altura máxima, a lixeira está vazia

\texorpdfstring{$<$}{<} Se a distância for negativa, a lixeira está cheia

\texorpdfstring{$<$}{<} Calcula a ocupação em percentual\Hypertarget{smil_8c_ae849a6ca2aaf5c293ca80fabe2ae5fd7}\index{smil.c@{smil.c}!centralizarTexto@{centralizarTexto}}
\index{centralizarTexto@{centralizarTexto}!smil.c@{smil.c}}
\doxysubsubsection{\texorpdfstring{centralizarTexto()}{centralizarTexto()}}
{\footnotesize\ttfamily \label{smil_8c_ae849a6ca2aaf5c293ca80fabe2ae5fd7} 
void centralizar\+Texto (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{texto}{, }\item[{int}]{linha}{}\end{DoxyParamCaption})}



Função para centralizar o texto na tela do display SSD1306. 

O texto é centralizado na linha especificada com base na largura do texto e da tela.


\begin{DoxyParams}{Parameters}
{\em texto} & O texto a ser exibido. \\
\hline
{\em linha} & A linha onde o texto será exibido. \\
\hline
\end{DoxyParams}
\texorpdfstring{$<$}{<} Largura do texto em pixels

\texorpdfstring{$<$}{<} Calcula a posição X para centralizar

\texorpdfstring{$<$}{<} Exibe o texto na tela\Hypertarget{smil_8c_a888e29fc251d16590c4e09920627cffa}\index{smil.c@{smil.c}!emitirAlertaSonoro@{emitirAlertaSonoro}}
\index{emitirAlertaSonoro@{emitirAlertaSonoro}!smil.c@{smil.c}}
\doxysubsubsection{\texorpdfstring{emitirAlertaSonoro()}{emitirAlertaSonoro()}}
{\footnotesize\ttfamily \label{smil_8c_a888e29fc251d16590c4e09920627cffa} 
void emitir\+Alerta\+Sonoro (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Função para emitir um alerta sonoro caso o modo noturno não esteja ativado. 

O alerta é emitido através do buzzer, ativando-\/o por 5 milissegundos. \texorpdfstring{$<$}{<} Emite som por 5 milissegundos\Hypertarget{smil_8c_a412154784f76e55a95064796059c1564}\index{smil.c@{smil.c}!escreverTrigPin@{escreverTrigPin}}
\index{escreverTrigPin@{escreverTrigPin}!smil.c@{smil.c}}
\doxysubsubsection{\texorpdfstring{escreverTrigPin()}{escreverTrigPin()}}
{\footnotesize\ttfamily \label{smil_8c_a412154784f76e55a95064796059c1564} 
void escrever\+Trig\+Pin (\begin{DoxyParamCaption}\item[{bool}]{estado}{}\end{DoxyParamCaption})}



Função para controlar o pino TRIG do sensor ultrassônico. 


\begin{DoxyParams}{Parameters}
{\em estado} & O estado a ser configurado para o pino (HIGH ou LOW) \\
\hline
\end{DoxyParams}
\texorpdfstring{$<$}{<} Envia o estado para o pino TRIG\Hypertarget{smil_8c_a179a6625aa57d2cfce3a39325b32fa85}\index{smil.c@{smil.c}!inicializarPinos@{inicializarPinos}}
\index{inicializarPinos@{inicializarPinos}!smil.c@{smil.c}}
\doxysubsubsection{\texorpdfstring{inicializarPinos()}{inicializarPinos()}}
{\footnotesize\ttfamily \label{smil_8c_a179a6625aa57d2cfce3a39325b32fa85} 
void inicializar\+Pinos (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Função para inicializar os pinos de hardware no início da execução do código. 

A função inicializa todos os pinos necessários para o funcionamento do software. \texorpdfstring{$<$}{<} Inicializa o pino TRIG do sensor ultrassônico

\texorpdfstring{$<$}{<} Define o pino TRIG como saída

\texorpdfstring{$<$}{<} Garante que o pino TRIG inicie com valor 0

\texorpdfstring{$<$}{<} Inicializa o pino ECHO do sensor ultrassônico

\texorpdfstring{$<$}{<} Define o pino ECHO como entrada

\texorpdfstring{$<$}{<} Inicializa o pino do buzzer

\texorpdfstring{$<$}{<} Define o pino do buzzer como saída

\texorpdfstring{$<$}{<} Desliga o buzzer inicialmente

\texorpdfstring{$<$}{<} Inicializa o pino do botão de ativação do sensor

\texorpdfstring{$<$}{<} Define o pino do botão como entrada

\texorpdfstring{$<$}{<} Ativa o resistor de pull-\/up interno

\texorpdfstring{$<$}{<} Inicializa o pino do botão de modo noturno

\texorpdfstring{$<$}{<} Define o pino do modo noturno como entrada

\texorpdfstring{$<$}{<} Ativa o resistor de pull-\/up interno para o botão de modo noturno

\texorpdfstring{$<$}{<} Inicializa o ADC (Conversor Analógico para Digital)

\texorpdfstring{$<$}{<} Inicializa o pino de controle vertical do joystick

\texorpdfstring{$<$}{<} Inicializa o pino do botão do joystick

\texorpdfstring{$<$}{<} Define o pino do botão do joystick como entrada

\texorpdfstring{$<$}{<} Ativa o resistor de pull-\/up interno para o botão do joystick

\texorpdfstring{$<$}{<} Inicializa a matriz de LEDs WS2812B

\texorpdfstring{$<$}{<} Ajusta o brilho global dos LEDs

\texorpdfstring{$<$}{<} Inicializa a comunicação I2C com a frequência de 400k\+Hz

\texorpdfstring{$<$}{<} Configura o pino SDA para função I2C

\texorpdfstring{$<$}{<} Configura o pino SCL para função I2C

\texorpdfstring{$<$}{<} Ativa o resistor de pull-\/up para o pino SDA

\texorpdfstring{$<$}{<} Ativa o resistor de pull-\/up para o pino SCL\Hypertarget{smil_8c_ae66f6b31b5ad750f1fe042a706a4e3d4}\index{smil.c@{smil.c}!main@{main}}
\index{main@{main}!smil.c@{smil.c}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily \label{smil_8c_ae66f6b31b5ad750f1fe042a706a4e3d4} 
int main (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Função principal do sistema. 

A função {\ttfamily main} inicializa o hardware, configura os pinos de entrada e saída, e gerencia a lógica de funcionamento do sistema. Ela controla o estado do sensor, a ativação do modo noturno, o controle de brilho via joystick e a exibição dos dados no display, além de acionar o alarme sonoro quando necessário. A função executa continuamente enquanto o sistema está em operação.

\begin{DoxyNote}{Note}
Esta função entra em um loop contínuo, onde o estado do sistema é verificado e atualizado a cada iteração. 
\end{DoxyNote}
\texorpdfstring{$<$}{<} Inicializa a comunicação padrão

\texorpdfstring{$<$}{<} Aguarda 2 segundos para a inicialização completa

\texorpdfstring{$<$}{<} Retorna 1 caso a inicialização do display falhe

\texorpdfstring{$<$}{<} Armazena o último estado do botão de ativação

\texorpdfstring{$<$}{<} Flag indicando se o botão de ativação foi pressionado

\texorpdfstring{$<$}{<} Armazena o último estado do botão de modo noturno

\texorpdfstring{$<$}{<} Flag indicando se o botão de modo noturno foi pressionado

\texorpdfstring{$<$}{<} Lê o estado atual do botão de ativação

\texorpdfstring{$<$}{<} Lê o estado atual do botão de modo noturno

\texorpdfstring{$<$}{<} Obtém a média das distâncias medidas

\texorpdfstring{$<$}{<} Calcula a ocupação da lixeira com base na distância

\texorpdfstring{$<$}{<} Atualiza o status no display

\texorpdfstring{$<$}{<} LEDs verdes indicam baixo nível de ocupação

\texorpdfstring{$<$}{<} LEDs amarelos indicam ocupação média

\texorpdfstring{$<$}{<} LEDs vermelhos indicam alta ocupação

\texorpdfstring{$<$}{<} Emite um alerta sonoro se a ocupação for alta

\texorpdfstring{$<$}{<} Atualiza os LEDs com a cor definida

\texorpdfstring{$<$}{<} Atualiza o display para mostrar que o sistema está desligado

\texorpdfstring{$<$}{<} Desliga todos os LEDs

\texorpdfstring{$<$}{<} Atualiza os LEDs para refletir a cor apagada

\texorpdfstring{$<$}{<} Verifica o estado do joystick e ajusta o brilho

\texorpdfstring{$<$}{<} Atraso de 100ms para evitar consumo excessivo de CPU\Hypertarget{smil_8c_a929aef15a25aee91e07551a098efaea6}\index{smil.c@{smil.c}!obterDistanciaCM@{obterDistanciaCM}}
\index{obterDistanciaCM@{obterDistanciaCM}!smil.c@{smil.c}}
\doxysubsubsection{\texorpdfstring{obterDistanciaCM()}{obterDistanciaCM()}}
{\footnotesize\ttfamily \label{smil_8c_a929aef15a25aee91e07551a098efaea6} 
float obter\+Distancia\+CM (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Função para obter a distância medida pelo sensor ultrassônico. 

A função emite um pulso de trigger e mede o tempo até receber o eco, calculando assim a distância com base na fórmula da velocidade do som.

\begin{DoxyReturn}{Returns}
Distância medida em centímetros. 
\end{DoxyReturn}
\texorpdfstring{$<$}{<} Aguarda 2 microssegundos

\texorpdfstring{$<$}{<} Emite o pulso de 10 microssegundos

\texorpdfstring{$<$}{<} Aguarda início do eco

\texorpdfstring{$<$}{<} Aguarda fim do eco

\texorpdfstring{$<$}{<} Calcula a duração do eco

\texorpdfstring{$<$}{<} Converte a duração em cm\Hypertarget{smil_8c_ac754fee47d028a97c4c9a24b1170e35d}\index{smil.c@{smil.c}!obterDistanciaMedia@{obterDistanciaMedia}}
\index{obterDistanciaMedia@{obterDistanciaMedia}!smil.c@{smil.c}}
\doxysubsubsection{\texorpdfstring{obterDistanciaMedia()}{obterDistanciaMedia()}}
{\footnotesize\ttfamily \label{smil_8c_ac754fee47d028a97c4c9a24b1170e35d} 
float obter\+Distancia\+Media (\begin{DoxyParamCaption}\item[{int}]{qtd\+Leituras}{}\end{DoxyParamCaption})}



Função para calcular a média das distâncias coletadas em várias leituras. 

A função realiza múltiplas leituras do sensor ultrassônico e calcula a média para evitar valores flutuantes causados por pequenas variações do sensor.


\begin{DoxyParams}{Parameters}
{\em qtd\+Leituras} & Número de leituras a serem feitas. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A distância média calculada. 
\end{DoxyReturn}
\texorpdfstring{$<$}{<} Espera 10 milissegundos entre as leituras

\texorpdfstring{$<$}{<} Retorna a média das distâncias\Hypertarget{smil_8c_a8844ef69c9a4521338bdd5b14d72816c}\index{smil.c@{smil.c}!verificarJoystick@{verificarJoystick}}
\index{verificarJoystick@{verificarJoystick}!smil.c@{smil.c}}
\doxysubsubsection{\texorpdfstring{verificarJoystick()}{verificarJoystick()}}
{\footnotesize\ttfamily \label{smil_8c_a8844ef69c9a4521338bdd5b14d72816c} 
void verificar\+Joystick (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Função para verificar as leituras do joystick e ajustar o brilho. 

A função lê o valor do eixo Y do joystick e ajusta o brilho de acordo com o valor lido, permitindo ao usuário controlar a intensidade dos LEDs. 

\doxysubsection{Variable Documentation}
\Hypertarget{smil_8c_ad3df5bad4be6ff9b61269e2e0e0595e4}\index{smil.c@{smil.c}!display@{display}}
\index{display@{display}!smil.c@{smil.c}}
\doxysubsubsection{\texorpdfstring{display}{display}}
{\footnotesize\ttfamily \label{smil_8c_ad3df5bad4be6ff9b61269e2e0e0595e4} 
ssd1306\+\_\+t display}

Inicializa a instância do display OLED \Hypertarget{smil_8c_a174948f766e6e47a6bbde4be16544b4b}\index{smil.c@{smil.c}!sistema@{sistema}}
\index{sistema@{sistema}!smil.c@{smil.c}}
\doxysubsubsection{\texorpdfstring{sistema}{sistema}}
{\footnotesize\ttfamily \label{smil_8c_a174948f766e6e47a6bbde4be16544b4b} 
\mbox{\hyperlink{struct_sistema_lixeira}{Sistema\+Lixeira}} sistema}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=\ \{}
\DoxyCodeLine{\ \ \ \ .brilho\ =\ 6,}
\DoxyCodeLine{\ \ \ \ .funcionando\ =\ \textcolor{keyword}{false},}
\DoxyCodeLine{\ \ \ \ .modoNoturnoAtivado\ =\ \textcolor{keyword}{true},}
\DoxyCodeLine{\ \ \ \ .distancia\ =\ 0.0,}
\DoxyCodeLine{\ \ \ \ .ocupacao\ =\ 0.}
\DoxyCodeLine{\}}

\end{DoxyCode}
